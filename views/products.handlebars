<!-- <li class="search">
    <div class="search-wrapper card">
        <input id="search"><i class="material-icons">search</i>
        <div class="search-results"></div>
    </div>
</li> -->

<div class="container">
    <div class="row">
        <form action="/products/search/">
            <div class="input-field">
                <i class="material-icons prefix">search</i>
                <input id="search_bar" type="text" class="validate" name="search_val">
                <label for="search_bar">Search</label>
            </div>
        </form>
    </div>

    <div>
        <h4><b>PRODUCTS</b></h4>
    </div>

    <table id="product_search" class="bordered" class="responsive-table">

        <thead>
            <tr>
                <th>Product
                    <a class="btn btn-default" href="/products/add" role="button">
                        <i class="material-icons left">add</i>Add</a>
                    </a>
                </th>
                <th><a href="/categories">Category</a></th>
                <th></th>
                <th></th>
            </tr>
        </thead>

        {{#products}}
            <tbody>
                <tr>
                    <td>{{product}}</td>
                    <td>{{category}}</td>
                    <td>
                        <a class="btn btn-default" href="/products/edit/{{id}}" role="button">
                            <i class="material-icons left">mode_edit</i>Edit</a>
                        </a>
                    </td>
                    <td>
                        <a class="btn btn-default" href="/products/delete/{{id}}">
                            <i class="material-icons left">delete</i>Delete</a>
                        </a>
                    </td>
                </tr>
            </tbody>
        {{/products}}

    </table>
</div>

<script src="https://code.jquery.com/jquery-1.10.2.js"></script>

<script>
    $(document).ready(function() {

        $("#search_bar").keyup(function(event) {

            var searchValue = $("#search_bar").val();
            $.get("/products/search/" + searchValue, function(results) {
                $('#product_search').html(results);
            });
        });
    })
</script>
